openapi: 3.0.3
info:
  description: This is the PingData Configuration API for the Trust Manager Provider config object
  title: PingData Trust Manager Provider Config - OpenAPI 3.0
  version: "0.1"
externalDocs:
  description: PingDirectory Configuration API Docs
  url: https://docs.pingidentity.com/bundle/pingdirectory-91/page/ddl1564011495095.html
tags:
- description: Access trust-manager-providers
  name: trust-manager-provider
paths:
  /trust-manager-providers:
    post:
      summary: Add a new Trust Manager Provider to the config
      operationId: add-trust-manager-provider
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
              - $ref: '#/components/schemas/add-blind-request'
              - $ref: '#/components/schemas/add-file-based-request'
              - $ref: '#/components/schemas/add-jvm-default-request'
              - $ref: '#/components/schemas/add-third-party-request'
        description: Create a new Trust Manager Provider in the config
        required: true
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/blind-response'
                - $ref: '#/components/schemas/file-based-response'
                - $ref: '#/components/schemas/jvm-default-response'
                - $ref: '#/components/schemas/third-party-response'
        "401":
          description: Requestor cannot be authenticated
        "403":
          description: Requestor does not have the required privileges
        "400":
          description: Bad request
        "409":
          description: The Trust Manager Provider already exists
      security:
      - basicAuth: []
      tags:
      - location
  /trust-manager-providers/{trust-manager-provider-name}:
    delete:
      summary: Delete a Trust Manager Provider
      operationId: delete-trust-manager-provider
      parameters:
      - description: Name of the Trust Manager Provider to be deleted
        explode: false
        in: path
        name: trust-manager-provider-name
        required: true
        schema:
          type: string
        style: simple
      responses:
        "200":
          description: Successful operation
        "401":
          description: Requestor cannot be authenticated
        "403":
          description: Requestor does not have the required privileges
        "404":
          description: The Trust Manager Provider does not exist
        "409":
          description: The Trust Manager Provider cannot be deleted
      security:
      - basicAuth: []
      tags:
      - location
    get:
      summary: Returns a single Trust Manager Provider
      operationId: get-trust-manager-provider
      parameters:
      - description: Name of the Trust Manager Provider to be read
        explode: false
        in: path
        name: trust-manager-provider-name
        required: true
        schema:
          type: string
        style: simple
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/blind-response'
                - $ref: '#/components/schemas/file-based-response'
                - $ref: '#/components/schemas/jvm-default-response'
                - $ref: '#/components/schemas/third-party-response'
        "401":
          description: Requestor cannot be authenticated
        "403":
          description: Requestor does not have the required privileges
        "404":
          description: The Trust Manager Provider does not exist
      security:
      - basicAuth: []
      tags:
      - location
    patch:
      summary: Update an existing Trust Manager Provider by name
      operationId: update-trust-manager-provider
      parameters:
      - description: Name of the Trust Manager Provider to be updated
        explode: false
        in: path
        name: trust-manager-provider-name
        required: true
        schema:
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/update-trust-manager-provider-request'
        description: Update an existing Trust Manager Provider
        required: true
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/blind-response'
                - $ref: '#/components/schemas/file-based-response'
                - $ref: '#/components/schemas/jvm-default-response'
                - $ref: '#/components/schemas/third-party-response'
        "401":
          description: Requestor cannot be authenticated
        "403":
          description: Requestor does not have the required privileges
        "400":
          description: Invalid request
        "404":
          description: The Trust Manager Provider does not exist
      security:
      - basicAuth: []
      tags:
      - location
components:
  schemas:
    Operation:
      type: object
      properties:
        op:
          $ref: '#/components/schemas/EnumOperation'
        path:
          type: string
        value:
          type: string
      required:
      - op
      - path
    add-blind-request:
      allOf:
      - type: object
        properties:
          providerName:
            description: Name of the new Trust Manager Provider
            type: string
        required:
        - providerName
      - $ref: '#/components/schemas/blind-shared'
    blind-response:
      allOf:
      - type: object
        properties:
          id:
            description: Name of the Trust Manager Provider
            type: string
        required:
        - id
      - $ref: '#/components/schemas/blind-shared'
    blind-shared:
      type: object
      properties:
        schemas:
          type: array
          minItems: 1
          maxItems: 1
          items:
            $ref: '#/components/schemas/EnumblindSchemaUrn'
        enabled:
          type: boolean
          description: Indicate whether the Trust Manager Provider is enabled for use.
        includeJVMDefaultIssuers:
          type: boolean
          description: Indicates whether certificates issued by an authority included in the JVM's set of default issuers should be automatically trusted, even if they would not otherwise be trusted by this provider.
      required:
      - schemas
      - enabled
    EnumblindSchemaUrn:
      type: string
      enum:
      - "urn:pingidentity:schemas:configuration:2.0:trust-manager-provider:blind"
    add-file-based-request:
      allOf:
      - type: object
        properties:
          providerName:
            description: Name of the new Trust Manager Provider
            type: string
        required:
        - providerName
      - $ref: '#/components/schemas/file-based-shared'
    file-based-response:
      allOf:
      - type: object
        properties:
          id:
            description: Name of the Trust Manager Provider
            type: string
        required:
        - id
      - $ref: '#/components/schemas/file-based-shared'
    file-based-shared:
      type: object
      properties:
        schemas:
          type: array
          minItems: 1
          maxItems: 1
          items:
            $ref: '#/components/schemas/Enumfile-basedSchemaUrn'
        trustStoreFile:
          type: string
          description: Specifies the path to the file containing the trust information. It can be an absolute path or a path that is relative to the Directory Server instance root.
        trustStoreType:
          type: string
          description: Specifies the format for the data in the trust store file.
        trustStorePin:
          type: string
          format: password
          description: Specifies the clear-text PIN needed to access the File Based Trust Manager Provider.
        trustStorePinFile:
          type: string
          description: Specifies the path to the text file whose only contents should be a single line containing the clear-text PIN needed to access the File Based Trust Manager Provider.
        trustStorePinPassphraseProvider:
          type: string
          description: The passphrase provider to use to obtain the clear-text PIN needed to access the File Based Trust Manager Provider.
        enabled:
          type: boolean
          description: Indicate whether the Trust Manager Provider is enabled for use.
        includeJVMDefaultIssuers:
          type: boolean
          description: Indicates whether certificates issued by an authority included in the JVM's set of default issuers should be automatically trusted, even if they would not otherwise be trusted by this provider.
      required:
      - schemas
      - trustStoreFile
      - enabled
    Enumfile-basedSchemaUrn:
      type: string
      enum:
      - "urn:pingidentity:schemas:configuration:2.0:trust-manager-provider:file-based"
    add-jvm-default-request:
      allOf:
      - type: object
        properties:
          providerName:
            description: Name of the new Trust Manager Provider
            type: string
        required:
        - providerName
      - $ref: '#/components/schemas/jvm-default-shared'
    jvm-default-response:
      allOf:
      - type: object
        properties:
          id:
            description: Name of the Trust Manager Provider
            type: string
        required:
        - id
      - $ref: '#/components/schemas/jvm-default-shared'
    jvm-default-shared:
      type: object
      properties:
        schemas:
          type: array
          minItems: 1
          maxItems: 1
          items:
            $ref: '#/components/schemas/Enumjvm-defaultSchemaUrn'
        enabled:
          type: boolean
          description: Indicate whether the Trust Manager Provider is enabled for use.
        includeJVMDefaultIssuers:
          type: boolean
          description: Indicates whether certificates issued by an authority included in the JVM's set of default issuers should be automatically trusted, even if they would not otherwise be trusted by this provider.
      required:
      - schemas
      - enabled
    Enumjvm-defaultSchemaUrn:
      type: string
      enum:
      - "urn:pingidentity:schemas:configuration:2.0:trust-manager-provider:jvm-default"
    add-third-party-request:
      allOf:
      - type: object
        properties:
          providerName:
            description: Name of the new Trust Manager Provider
            type: string
        required:
        - providerName
      - $ref: '#/components/schemas/third-party-shared'
    third-party-response:
      allOf:
      - type: object
        properties:
          id:
            description: Name of the Trust Manager Provider
            type: string
        required:
        - id
      - $ref: '#/components/schemas/third-party-shared'
    third-party-shared:
      type: object
      properties:
        schemas:
          type: array
          minItems: 1
          maxItems: 1
          items:
            $ref: '#/components/schemas/Enumthird-partySchemaUrn'
        extensionClass:
          type: string
          description: The fully-qualified name of the Java class providing the logic for the Third Party Trust Manager Provider.
        extensionArgument:
          type: array
          items:
            type: string
            description: The set of arguments used to customize the behavior for the Third Party Trust Manager Provider. Each configuration property should be given in the form 'name=value'.
        enabled:
          type: boolean
          description: Indicate whether the Trust Manager Provider is enabled for use.
        includeJVMDefaultIssuers:
          type: boolean
          description: Indicates whether certificates issued by an authority included in the JVM's set of default issuers should be automatically trusted, even if they would not otherwise be trusted by this provider.
      required:
      - schemas
      - extensionClass
      - enabled
    Enumthird-partySchemaUrn:
      type: string
      enum:
      - "urn:pingidentity:schemas:configuration:2.0:trust-manager-provider:third-party"
    update-trust-manager-provider-request:
      type: object
      properties:
        operations:
          type: array
          items:
            $ref: '#/components/schemas/Operation'
      required:
      - operations
    EnumOperation:
      type: string
      enum:
      - "add"
      - "remove"
      - "replace"
  securitySchemes:
    basicAuth:
      scheme: Basic
      type: http
